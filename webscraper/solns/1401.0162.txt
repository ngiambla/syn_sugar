we work with a generalization of knot theory, in which one diagram isreachable from another via a finite sequence of moves if a fixed condition,regarding the existence of certain morphisms in an associated category, issatisfied for every move of the sequence. this conditional setting leads to apossibility of irreversible moves, terminal states, and to using functors moregeneral than the ones used as knot invariants. our main focus is the categoryof diagrams with binary relations on the set of arcs, indicating which arc canmove over another arc. we define homology of binary relations, and merge itwith quandle homology, to obtain the homology for partial quandles with binaryrelations. this last homology can be used to analyze link diagrams with binaryrelations on the set of components.