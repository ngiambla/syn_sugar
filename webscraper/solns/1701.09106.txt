we consider the long term dynamics of the restricted n-body problem, modelingthe dynamics of an asteroid that moves in the gravitational field of the solarsystem. we deal with the case of a mean motion resonance with a planet. theasteroid evolution is computed by standard techniques of perturbation theory.we focus on the critical case where the trajectory of the asteroid crosses theone of some planet during the evolution. this produces a singularity in thecorresponding equations of motion. we prove that the related vector field canbe extended to two locally lipschitz-continuous vector fields and we definegeneralized solutions, continuous but not differentiable, going beyond thecrossing singularities. moreover, we prove that the long term evolution of the'signed' orbit distance (gronchi and tommei 2007) between the asteroid and theplanet whose trajectory is crossed is differentiable in a neighborhood of thecrossing times. we conclude by a numerical comparison of the long term and thefull evolutions in the case of planet crossing asteroids belonging to the'alinda' and 'toro' classes (milani et al. 1989). this work extends the resultsin (gronchi and tardioli 2013) to the resonant case.