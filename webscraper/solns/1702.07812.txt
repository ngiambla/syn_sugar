we form generating series of special divisors, valued in the chow group andin the arithmetic chow group, on the compactified integral model of a shimuravariety associated to a unitary group of signature (n-1,1), and prove theirmodularity. the main ingredient of the proof is the calculation of the verticalcomponents appearing in the divisor of a borcherds product on the integralmodel.