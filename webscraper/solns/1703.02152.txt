let $(x,d,\mu)$ be a doubling metric measure space endowed with a dirichletform $\e$ deriving from a "carr\'e du champ". assume that $(x,d,\mu,\e)$supports a scale-invariant $l^2$-poincar\'e inequality. in this article, westudy the following properties of harmonic functions, heat kernels and riesztransforms for $p\in (2,\infty]$:  (i) $(g_p)$: $l^p$-estimate for the gradient of the associated heatsemigroup;  (ii) $(rh_p)$: $l^p$-reverse h\"older inequality for the gradients ofharmonic functions;  (iii) $(r_p)$: $l^p$-boundedness of the riesz transform ($p<\infty$);  (iv) $(gbe)$: a generalised bakry-\'emery condition.  we show that, for $p\in (2,\infty)$, (i), (ii) (iii) are equivalent, whilefor $p=\infty$, (i), (ii), (iv) are equivalent.  moreover, some of these equivalences still hold under weaker conditions thanthe $l^2$-poincar\'e inequality.  our result gives a characterisation of li-yau's gradient estimate of heatkernels for $p=\infty$, while for $p\in (2,\infty)$ it is a substantialimprovement as well as a generalisation of earlier results byauscher-coulhon-duong-hofmann [7] and auscher-coulhon [6]. applications toisoperimetric inequalities and sobolev inequalities are given. our resultsapply to riemannian and sub-riemannian manifolds as well as to non-smoothspaces, and to degenerate elliptic/parabolic equations in these settings.